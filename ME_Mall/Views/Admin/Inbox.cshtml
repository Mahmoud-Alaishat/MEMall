@model IEnumerable<ME_Mall.Models.ContactUs>

@{
    ViewData["Title"] = "Inbox";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}
<div class="container-xxl flex-grow-1 container-p-y">

    <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Communication Center /</span> Inbox</h4>
    
    <!-- Basic Bootstrap Table -->
    <div class="card">
        <h5 class="card-header bg-dark text-white"><i class="bx bxs-inbox"></i> Inbox</h5>
        <div class="col">
                <div class="list-group">
                    @foreach (var item in Model)
                    {
                    <a asp-action="Message" asp-route-id="@item.Id"
                       class="list-group-item list-group-item-action flex-column align-items-start">
                        <div class="d-flex justify-content-between w-100 mt-3">
                            <h6>
                                <strong>From:</strong> @item.Name<br /><small class="text-muted">@item.Email</small>
                            </h6>
                            <small>@item.Date</small>
                        </div>
                        <p class="mb-3">
                            <strong>Subject:</strong> @item.Subject
                        </p>
                        <p class="mb-1" style="font-weight:700">
                            @if (item.Message.Length <= 50)
                            {
                                @Html.DisplayFor(modelItem => item.Message)
                            }
                            else
                            {
                                @(item.Message.ToString().Substring(0, 50) + "...")
                            }
                        </p>
                    </a>
                    }
                    </div>
        </div>
    </div>
</div>

